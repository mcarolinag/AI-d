<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>AI-d Project Results</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" />
</head>
<body class="bg-light py-5 d-flex justify-content-center align-items-start">

  <div class="container bg-white rounded-4 shadow-lg p-5" style="max-width: 1000px;">

    <h4 class="mb-3 fw-semibold">üåç Location</h4>
    <div class="bg-secondary bg-opacity-25 rounded-3 d-flex align-items-center justify-content-center mb-5" style="height: 400px;">
      <span class="text-muted fs-5">Will be Replaced by Viz</span>
    </div>

    <h4 class="mb-3 fw-semibold">üìã Your Project</h4>
    <div class="mb-3">
      <span class="fw-bold">Project Title:</span>
      <span id="projectTitleOutput" class="ms-2">[Text displayed]</span>
    </div>

    <div class="mb-3 d-flex flex-wrap">
      <div class="me-4">
        <span class="fw-bold">Province:</span>
        <span id="provinceOutput" class="ms-1">[Province]</span>
      </div>
      <div class="me-4">
        <span class="fw-bold">Latitude:</span>
        <span id="latitudeOutput" class="ms-1"></span>
      </div>
      <div>
        <span class="fw-bold">Longitude:</span>
        <span id="longitudeOutput" class="ms-1"></span>
      </div>
    </div>

    <div class="mb-3">
      <span class="fw-bold d-block mb-1">Project Description</span>
      <div id="descriptionOutput" class="border rounded bg-light-subtle p-3"
          style="min-height: 100px; max-height: 200px; overflow-y: auto;">
        [Text displayed]
      </div>
    </div>

    <h4 class="mb-3 fw-semibold">üìã Test Section</h4>

    <div class="mb-3">
      <span class="fw-bold">Project Title:</span>
      <span id="projectTitle_test" class="ms-2"></span>
    </div>

    <div class="mb-3">
      <span class="fw-bold">Province:</span>
      <span id="province_test" class="ms-2"></span>
    </div>

    <div class="mb-3">
      <span class="fw-bold">Project Description:</span>
      <span id="projectDescription_test" class="ms-2"></span>
    </div>

    <div class="mb-3">
      <span class="fw-bold">Disable Max Radius:</span>
      <span id="disableRadiusOutput" class="ms-2"></span>
    </div>

    <div class="mb-3">
      <span class="fw-bold">Number of Projects to Display:</span>
      <span id="numProjectsOutput" class="ms-2"></span>
    </div>

    <div id="radiusSection" class="mb-3" style="display: none;">
      <span class="fw-bold">Radius Value:</span>
      <span id="radiusValue" class="ms-2"></span>
    </div>

    <!-- Bottom Button -->
    <div class="d-flex justify-content-start mt-5">
      <button class="btn btn-dark fw-bold px-4 py-2" onclick="goBack()">Go Back</button>
    </div>

  </div>

  <script>
    // üéØ Raw input values for "Your Project" display
    document.getElementById("projectTitleOutput").innerText = sessionStorage.getItem("projectTitle") || "";
    document.getElementById("provinceOutput").innerText = sessionStorage.getItem("province") || "";
    document.getElementById("descriptionOutput").innerText = sessionStorage.getItem("projectDescription") || "";

    // üß™ Backend-processed values for Test Section
    document.getElementById("projectTitle_test").innerText = sessionStorage.getItem("projectTitle_test") || "";
    document.getElementById("province_test").innerText = sessionStorage.getItem("province_test") || "";
    document.getElementById("projectDescription_test").innerText = sessionStorage.getItem("projectDescription_test") || "";
    document.getElementById("disableRadiusOutput").innerText = sessionStorage.getItem("disableRadius_test") || "[Not Set]";
    document.getElementById("numProjectsOutput").innerText = sessionStorage.getItem("numProjects_test") || "[Not Set]";

    const disableRadius = sessionStorage.getItem("disableRadius_test") === "true";
    const radius = sessionStorage.getItem("radius_test");

    if (!disableRadius && radius !== null) {
      document.getElementById("radiusValue").innerText = radius;
      document.getElementById("radiusSection").style.display = "block";
    } else {
      document.getElementById("radiusSection").style.display = "none";
    }

    function goBack() {
      window.history.back();
    }
  </script>
</body>
</html>
